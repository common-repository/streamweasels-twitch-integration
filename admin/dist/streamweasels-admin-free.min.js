!function(a){"use strict";jQuery(document).ready(function(e){function o(){var e="",o="",t="",l="",n="",e=(""!==a("#sw-game").val()&&(e=""!==a("#sw-game").val()?' game="'+a("#sw-game").val()+'"':""),""!==a("#sw-channels").val()?o=' channels="'+a("#sw-channels").val()+'"':""!==a("#sw-team").val()&&(t=' team="'+a("#sw-team").val()+'"'),"[sw-twitch"+e+o+t+(""!==a("#sw-language").val()?' language="'+a("#sw-language").val()+'"':"")+(l=""!==a("#sw-limit").val()?' limit="'+a("#sw-limit").val()+'"':l)+(n=""!==a("#sw-layout").val()?' layout="'+a("#sw-layout").val()+'"':n)+"]");a(".postbox-shortcode .advanced-shortcode").html(e)}var t,l,n,r,s,i;jQuery("body").hasClass("toplevel_page_streamweasels")&&(jQuery(document).on("click","#sw-check-license-submit",function(e){jQuery("#sw-check-license").val("1")}),jQuery(document).on("click","#sw-refresh-token-submit",function(e){jQuery("#sw-refresh-token").val("1")}),jQuery(document).on("click","#sw-delete-log-submit",function(e){jQuery("#sw-delete-log").val("1"),jQuery("#sw-dismiss-for-good").val("1")}),jQuery("#sw-show-hide-members").on("click",function(e){e.preventDefault(),jQuery("#sw-team-channels").toggle()}),jQuery("#sw-form").on("submit",function(e){""!==a("#sw-channels").val()&&""!==a("#sw-team").val()&&(e.preventDefault(),a(".postbox-main-settings .inside .notice").remove(),a(".postbox-main-settings .inside").prepend('<div class="notice notice-error"><p><strong>Error. You cannot use both the Channels field and the Team field together. Choose only one.</strong></p></div>'),a("html").animate({scrollTop:a(".postbox-main-settings").offset().top},1e3))}),jQuery("#sw-tile-bg-colour").wpColorPicker(),jQuery("#sw-tile-title-colour").wpColorPicker(),jQuery("#sw-tile-subtitle-colour").wpColorPicker(),jQuery("#sw-logo-bg-colour").wpColorPicker(),jQuery("#sw-logo-border-colour").wpColorPicker(),jQuery("#sw-hover-colour").wpColorPicker(),l=(t=document.querySelector("#sw-tile-rounded-corners")).value,new Powerange(t,{callback:function(){t.nextElementSibling.nextElementSibling.innerHTML=t.value+"px"},step:5,max:40,start:l,hideRange:!0}),new ClipboardJS("#sw-copy-shortcode").on("success",function(e){jQuery(e.trigger).addClass("tooltipped"),jQuery(e.trigger).on("mouseleave",function(){jQuery(e.trigger).removeClass("tooltipped")})}),jQuery("#sw-form input, #sw-form select").on("change",function(){o()}),o(),a(".upload-btn").click(function(e){e.preventDefault();var t=a(this),l=wp.media({title:"Upload Image",multiple:!1}).open().on("select",function(e){var o=l.state().get("selection").first(),o=(console.log(o),o.toJSON().url);t.prev().val(o)})})),jQuery("body").hasClass("twitch-integration_page_streamweasels-wall")&&(r=(n=document.querySelector("#sw-tile-column-count")).value,new Powerange(n,{callback:function(){n.nextElementSibling.nextElementSibling.innerHTML=n.value+" columns"},step:1,max:6,start:r,hideRange:!0}),i=(s=document.querySelector("#sw-tile-column-spacing")).value,new Powerange(s,{callback:function(){s.nextElementSibling.nextElementSibling.innerHTML=s.value+"px"},step:5,max:100,start:i,hideRange:!0})),jQuery("body").hasClass("twitch-integration_page_streamweasels-vods")&&(r=(n=document.querySelector("#sw-tile-column-count")).value,new Powerange(n,{callback:function(){n.nextElementSibling.nextElementSibling.innerHTML=n.value+" columns"},step:1,max:6,start:r,hideRange:!0}),i=(s=document.querySelector("#sw-tile-column-spacing")).value,new Powerange(s,{callback:function(){s.nextElementSibling.nextElementSibling.innerHTML=s.value+"px"},step:5,max:100,start:i,hideRange:!0})),jQuery("body").hasClass("twitch-integration_page_streamweasels-rail")&&(jQuery("#sw-rail-border-colour").wpColorPicker(),jQuery("#sw-rail-controls-bg-colour").wpColorPicker(),jQuery("#sw-rail-controls-arrow-colour").wpColorPicker()),jQuery("body").hasClass("twitch-integration_page_streamweasels-player")&&(jQuery("#sw-welcome-bg-colour").wpColorPicker(),jQuery("#sw-welcome-text-colour").wpColorPicker(),a(".upload-btn").click(function(e){e.preventDefault();var t=a(this),l=wp.media({title:"Upload Image",multiple:!1}).open().on("select",function(e){var o=l.state().get("selection").first(),o=(console.log(o),o.toJSON().url);t.prev().val(o)})})),jQuery("body").hasClass("twitch-integration_page_streamweasels-status")&&(jQuery("#sw-accent-colour").wpColorPicker(),jQuery("#sw-logo-background-colour").wpColorPicker(),jQuery("#sw-carousel-background-colour").wpColorPicker(),jQuery("#sw-carousel-arrow-colour").wpColorPicker(),a(".upload-btn").click(function(e){e.preventDefault();var t=a(this),l=wp.media({title:"Upload Image",multiple:!1}).open().on("select",function(e){var o=l.state().get("selection").first(),o=(console.log(o),o.toJSON().url);t.prev().val(o)})})),a(document).on("click",".swti-notice button.notice-dismiss",function(){a.post(ajaxurl,{action:"swti_admin_notice_dismiss"},function(e){console.log(e,"DONE!")})}),a(document).on("click",".swti-notice a.dismiss-for-good",function(){a(".swti-notice").hide();a.post(ajaxurl,{action:"swti_admin_notice_dismiss_for_good"},function(e){console.log(e,"SWTI - Notice Closed")})})})}(jQuery);