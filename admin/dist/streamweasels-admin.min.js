!function(T){"use strict";jQuery(document).ready(function(e){function o(){var e="",o="",t="",l="",s="",a="",r="",i="",n="",c="",u="",w="",m="",p="",d="",g="",v="",h="",f="",b="",y="",k="",j="",Q="",_="",C="",x="",P=(""!==T("#sw-game").val()&&(e=""!==T("#sw-game").val()?' game="'+T("#sw-game").val()+'"':""),""!==T("#sw-channels").val()?o=' channels="'+T("#sw-channels").val()+'"':""!==T("#sw-team").val()&&(t=' team="'+T("#sw-team").val()+'"'),s=""!==T("#sw-language").val()?' language="'+T("#sw-language").val()+'"':"",""!==T("#sw-limit").val()&&(l=' limit="'+T("#sw-limit").val()+'"'),""!==T("#sw-layout").val()&&(a=' layout="'+T("#sw-layout").val()+'"'),""!==T("#sw-embed").val()&&(r=' embed="'+T("#sw-embed").val()+'"'),""!==T("#sw-embed-theme").val()&&(i=' embed-theme="'+T("#sw-embed-theme").val()+'"'),T("#sw-embed-chat").prop("checked")?' embed-chat="1"':' embed-chat="0"'),S=T("#sw-embed-title").prop("checked")?' embed-title="1"':' embed-title="0"',E=T("#sw-embed-muted").prop("checked")?' embed-muted="1"':' embed-muted="0"',D=T("#sw-show-offline").prop("checked")?' show-offline="1"':' show-offline="0"',I=T("#sw-autoplay").prop("checked")?' autoplay="1"':' autoplay="0"',N=T("#sw-profile-image").prop("checked")?' profile-image="1"':' profile-image="0"',e="[sw-twitch"+e+o+t+s+l+a+r+i+P+S+E+D+(n=""!==T("#sw-show-offline-text").val()?' show-offline-text="'+T("#sw-show-offline-text").val()+'"':n)+(c=""!==T("#sw-show-offline-image").val()?' show-offline-image="'+T("#sw-show-offline-image").val()+'"':c)+I+(u=""!==T("#sw-featured-stream").val()?' featured-stream="'+T("#sw-featured-stream").val()+'"':u)+(w=""!==T("#sw-title").val()?' title="'+T("#sw-title").val()+'"':w)+(m=""!==T("#sw-subtitle").val()?' subtitle="'+T("#sw-subtitle").val()+'"':m)+(p=""!==T("#sw-offline-image").val()?' offline-image="'+T("#sw-offline-image").val()+'"':p)+(d=""!==T("#sw-logo-image").val()?' logo-image="'+T("#sw-logo-image").val()+'"':d)+N+(g=""!==T("#sw-logo-bg-colour").val()?' logo-bg-colour="'+T("#sw-logo-bg-colour").val()+'"':g)+(v=""!==T("#sw-logo-border-colour").val()?' logo-border-colour="'+T("#sw-logo-border-colour").val()+'"':v)+(h=""!==T("#sw-max-width").val()?' max-width="'+T("#sw-max-width").val()+'"':h)+(f=""!==T("#sw-tile-layout").val()?' tile-layout="'+T("#sw-tile-layout").val()+'"':f)+(b=""!==T("#sw-tile-sorting").val()?' tile-sorting="'+T("#sw-tile-sorting").val()+'"':b)+(y=""!==T("#sw-live-info").val()?' live-info="'+T("#sw-live-info").val()+'"':y)+(k=""!==T("#sw-tile-bg-colour").val()?' tile-bg-colour="'+T("#sw-tile-bg-colour").val()+'"':k)+(j=""!==T("#sw-tile-title-colour").val()?' tile-title-colour="'+T("#sw-tile-title-colour").val()+'"':j)+(Q=""!==T("#sw-tile-subtitle-colour").val()?' tile-subtitle-colour="'+T("#sw-tile-subtitle-colour").val()+'"':Q)+(_=""!==T("#sw-tile-rounded-corners").val()?' tile-rounded-corners="'+T("#sw-tile-rounded-corners").val()+'"':_)+(x=""!==T("#sw-hover-colour").val()?' hover-colour="'+T("#sw-hover-colour").val()+'"':x)+(C=""!==T("#sw-hover-effect").val()?' hover-effect="'+T("#sw-hover-effect").val()+'"':C)+"]";T(".postbox-shortcode .advanced-shortcode").html(e)}var t,l,s,a,r,i;jQuery("body").hasClass("toplevel_page_streamweasels")&&(jQuery(document).on("click","#sw-check-license-submit",function(e){jQuery("#sw-check-license").val("1")}),jQuery(document).on("click","#sw-refresh-token-submit",function(e){jQuery("#sw-refresh-token").val("1")}),jQuery(document).on("click","#sw-delete-log-submit",function(e){jQuery("#sw-delete-log").val("1")}),jQuery("#sw-show-hide-members").on("click",function(e){e.preventDefault(),jQuery("#sw-team-channels").toggle()}),jQuery("#sw-form").on("submit",function(e){""!==T("#sw-channels").val()&&""!==T("#sw-team").val()&&(e.preventDefault(),T(".postbox-main-settings .inside .notice").remove(),T(".postbox-main-settings .inside").prepend('<div class="notice notice-error"><p><strong>Error. You cannot use both the Channels field and the Team field together. Choose only one.</strong></p></div>'),T("html").animate({scrollTop:T(".postbox-main-settings").offset().top},1e3))}),jQuery("#sw-tile-bg-colour").wpColorPicker(),jQuery("#sw-tile-title-colour").wpColorPicker(),jQuery("#sw-tile-subtitle-colour").wpColorPicker(),jQuery("#sw-logo-bg-colour").wpColorPicker(),jQuery("#sw-logo-border-colour").wpColorPicker(),jQuery("#sw-hover-colour").wpColorPicker(),l=(t=document.querySelector("#sw-tile-rounded-corners")).value,new Powerange(t,{callback:function(){t.nextElementSibling.nextElementSibling.innerHTML=t.value+"px"},step:5,max:40,start:l,hideRange:!0}),new ClipboardJS("#sw-copy-shortcode").on("success",function(e){jQuery(e.trigger).addClass("tooltipped"),jQuery(e.trigger).on("mouseleave",function(){jQuery(e.trigger).removeClass("tooltipped")})}),jQuery("#sw-form input, #sw-form select").on("change",function(){o()}),o(),T(".upload-btn").click(function(e){e.preventDefault();var t=T(this),l=wp.media({title:"Upload Image",multiple:!1}).open().on("select",function(e){var o=l.state().get("selection").first(),o=(console.log(o),o.toJSON().url);t.prev().val(o)})})),jQuery("body").hasClass("twitch-integration_page_streamweasels-wall")&&(a=(s=document.querySelector("#sw-tile-column-count")).value,new Powerange(s,{callback:function(){s.nextElementSibling.nextElementSibling.innerHTML=s.value+" columns"},step:1,max:6,start:a,hideRange:!0}),i=(r=document.querySelector("#sw-tile-column-spacing")).value,new Powerange(r,{callback:function(){r.nextElementSibling.nextElementSibling.innerHTML=r.value+"px"},step:5,max:100,start:i,hideRange:!0})),jQuery("body").hasClass("twitch-integration_page_streamweasels-vods")&&(a=(s=document.querySelector("#sw-tile-column-count")).value,new Powerange(s,{callback:function(){s.nextElementSibling.nextElementSibling.innerHTML=s.value+" columns"},step:1,max:6,start:a,hideRange:!0}),i=(r=document.querySelector("#sw-tile-column-spacing")).value,new Powerange(r,{callback:function(){r.nextElementSibling.nextElementSibling.innerHTML=r.value+"px"},step:5,max:100,start:i,hideRange:!0})),jQuery("body").hasClass("twitch-integration_page_streamweasels-rail")&&(jQuery("#sw-rail-border-colour").wpColorPicker(),jQuery("#sw-rail-controls-bg-colour").wpColorPicker(),jQuery("#sw-rail-controls-arrow-colour").wpColorPicker()),jQuery("body").hasClass("twitch-integration_page_streamweasels-player")&&(jQuery("#sw-welcome-bg-colour").wpColorPicker(),jQuery("#sw-welcome-text-colour").wpColorPicker(),T(".upload-btn").click(function(e){e.preventDefault();var t=T(this),l=wp.media({title:"Upload Image",multiple:!1}).open().on("select",function(e){var o=l.state().get("selection").first(),o=(console.log(o),o.toJSON().url);t.prev().val(o)})})),jQuery("body").hasClass("twitch-integration_page_streamweasels-status")&&(jQuery("#sw-accent-colour").wpColorPicker(),jQuery("#sw-logo-background-colour").wpColorPicker(),jQuery("#sw-carousel-background-colour").wpColorPicker(),jQuery("#sw-carousel-arrow-colour").wpColorPicker(),T(".upload-btn").click(function(e){e.preventDefault();var t=T(this),l=wp.media({title:"Upload Image",multiple:!1}).open().on("select",function(e){var o=l.state().get("selection").first(),o=(console.log(o),o.toJSON().url);t.prev().val(o)})})),jQuery("body").hasClass("twitch-integration_page_streamweasels-nav")&&(jQuery("#sw-logo-colour").wpColorPicker(),jQuery("#sw-online-dot-colour").wpColorPicker()),jQuery("body").hasClass("twitch-integration_page_streamweasels-feature")&&(jQuery("#sw-feature-controls-bg-colour").wpColorPicker(),jQuery("#sw-feature-controls-arrow-colour").wpColorPicker()),jQuery("body").hasClass("twitch-integration_page_streamweasels-showcase")&&(T(".upload-btn").click(function(e){e.preventDefault();var t=T(this),l=wp.media({title:"Upload Image",multiple:!1}).open().on("select",function(e){var o=l.state().get("selection").first(),o=(console.log(o),o.toJSON().url);t.prev().val(o)})}),T("#sw-showcase-add-streamer").on("click",function(e){e.preventDefault();var e=T(".sw-showcase-wrapper"),o=e.attr("data-streamer-count"),o=parseInt(o)+1,t=`
				<fieldset class="row${o}">
				<span></span>
				<input type="text" class="sw-showcase-name" name="swti_options_showcase[swti_showcase_array][row${o}][name]" size='40' placeholder="Streamer Name" value="" />
				<input type="text" class="sw-showcase-image" name="swti_options_showcase[swti_showcase_array][row${o}][image]" size='40' placeholder="Streamer Image" value="" />
				<input type="button" name="upload-btn" class="upload-btn button-secondary" value="Upload Image">
				<br>
				</fieldset>
				`;T(".sw-showcase-wrapper").append(t),e.attr("data-streamer-count",o)}),T(".sw-showcase-wrapper fieldset:last-child .upload-btn").click(function(e){e.preventDefault();var t=T(this),l=wp.media({title:"Upload Image",multiple:!1}).open().on("select",function(e){var o=l.state().get("selection").first(),o=(console.log(o),o.toJSON().url);t.prev().val(o)})}),T(document).on("click",".sw-showcase-wrapper fieldset span",function(e){e.preventDefault();T(this).parent("fieldset").remove();var e=T(".sw-showcase-wrapper"),o=e.attr("data-streamer-count"),o=parseInt(o)-1,e=(e.attr("data-streamer-count",o),T(".sw-showcase-wrapper"),T(".sw-showcase-wrapper fieldset")),t=0;e.each(function(){t++,T(this).attr("class","row-"+t),T(this).find(".sw-showcase-name").attr("name","swti_options_showcase[swti_showcase_array][row"+t+"][name]"),T(this).find(".sw-showcase-image").attr("name","swti_options_showcase[swti_showcase_array][row"+t+"][image]")})}),jQuery("#sw-showcase-controls-bg-colour").wpColorPicker(),jQuery("#sw-showcase-controls-arrow-colour").wpColorPicker()),T(document).on("click",".swti-notice button.notice-dismiss",function(){T.post(ajaxurl,{action:"swti_admin_notice_dismiss"},function(e){console.log(e,"DONE!")})}),T(document).on("click",".swti-notice a.dismiss-for-good",function(){T(".swti-notice").hide();T.post(ajaxurl,{action:"swti_admin_notice_dismiss_for_good"},function(e){console.log(e,"SWTI - Notice Closed")})})})}(jQuery);